<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Match::Storage::Interface - fastlane-2.116.1 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="../../Object.html">Object</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-clear_changes">#clear_changes</a>
    
    <li ><a href="#method-i-configure">#configure</a>
    
    <li ><a href="#method-i-delete_files">#delete_files</a>
    
    <li ><a href="#method-i-download">#download</a>
    
    <li ><a href="#method-i-generate_matchfile_content">#generate_matchfile_content</a>
    
    <li ><a href="#method-i-human_readable_description">#human_readable_description</a>
    
    <li ><a href="#method-i-save_changes-21">#save_changes!</a>
    
    <li ><a href="#method-i-skip_docs">#skip_docs</a>
    
    <li ><a href="#method-i-upload_files">#upload_files</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Match::Storage::Interface">
  <h1 id="class-Match::Storage::Interface" class="class">
    class Match::Storage::Interface
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="MATCH_VERSION_FILE_NAME">MATCH_VERSION_FILE_NAME
        
        <dd>
        
      
      </dl>
    </section>
    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-working_directory" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">working_directory</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The working directory in which we download all the profiles and
decrypt/encrypt them</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-clear_changes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear_changes</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Call this method to reset any changes made locally to the files</p>
          
          

          
          <div class="method-source-code" id="clear_changes-source">
            <pre><span class="ruby-comment"># File match/lib/match/storage/interface.rb, line 101</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear_changes</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@working_directory</span>

  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">working_directory</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">working_directory</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-configure" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">configure</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Call this method after creating a new object to configure the given <a
href="../Storage.html">Storage</a> object. This method will take different
paramters depending on specific class being used</p>
          
          

          
          <div class="method-source-code" id="configure-source">
            <pre><span class="ruby-comment"># File match/lib/match/storage/interface.rb, line 22</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">configure</span>
  <span class="ruby-identifier">not_implemented</span>(<span class="ruby-identifier">__method__</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delete_files" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete_files</span><span
            class="method-args">(files_to_delete: [], custom_message: nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="delete_files-source">
            <pre><span class="ruby-comment"># File match/lib/match/storage/interface.rb, line 85</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete_files</span>(<span class="ruby-identifier">files_to_delete</span><span class="ruby-operator">:</span> [], <span class="ruby-identifier">custom_message</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">not_implemented</span>(<span class="ruby-identifier">__method__</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-download" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">download</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Call this method for the initial clone/download of the user&#39;s
certificates &amp; profiles As part of this method, the
`self.working_directory` attribute will be set</p>
          
          

          
          <div class="method-source-code" id="download-source">
            <pre><span class="ruby-comment"># File match/lib/match/storage/interface.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">download</span>
  <span class="ruby-identifier">not_implemented</span>(<span class="ruby-identifier">__method__</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-generate_matchfile_content" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">generate_matchfile_content</span><span
            class="method-args">(template: nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Implement this for the `fastlane match init` command This method must
return the content of the Matchfile that should be generated</p>
          
          

          
          <div class="method-source-code" id="generate_matchfile_content-source">
            <pre><span class="ruby-comment"># File match/lib/match/storage/interface.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">generate_matchfile_content</span>(<span class="ruby-identifier">template</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">not_implemented</span>(<span class="ruby-identifier">__method__</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-human_readable_description" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">human_readable_description</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a short string describing + identifing the current storage backend.
This will be printed when nuking a storage</p>
          
          

          
          <div class="method-source-code" id="human_readable_description-source">
            <pre><span class="ruby-comment"># File match/lib/match/storage/interface.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">human_readable_description</span>
  <span class="ruby-identifier">not_implemented</span>(<span class="ruby-identifier">__method__</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-save_changes-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">save_changes!</span><span
            class="method-args">(files_to_commit: nil, files_to_delete: nil, custom_message: nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Call this method after locally modifying the files This will commit the
changes and push it back to the given remote server This method is
blocking, meaning it might take multiple seconds or longer to run
@parameter files_to_commit [Array] <a href="../../Array.html">Array</a> to
paths to files</p>

<pre class="ruby"><span class="ruby-identifier">that</span> <span class="ruby-identifier">should</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">committed</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">storage</span> <span class="ruby-identifier">provider</span>
</pre>

<p>@parameter custom_message: [String] Custom change message</p>

<pre>that&#39;s optional, is used for commit title</pre>
          
          

          
          <div class="method-source-code" id="save_changes-21-source">
            <pre><span class="ruby-comment"># File match/lib/match/storage/interface.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save_changes!</span>(<span class="ruby-identifier">files_to_commit</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">files_to_delete</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">custom_message</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-comment"># Custom init to `[]` in case `nil` is passed</span>
  <span class="ruby-identifier">files_to_commit</span> <span class="ruby-operator">||=</span> []
  <span class="ruby-identifier">files_to_delete</span> <span class="ruby-operator">||=</span> []

  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">working_directory</span>)) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">files_to_commit</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-comment"># everything that isn&#39;t `match nuke`</span>
      <span class="ruby-constant">UI</span>.<span class="ruby-identifier">user_error!</span>(<span class="ruby-string">&quot;You can&#39;t provide both `files_to_delete` and `files_to_commit` right now&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">files_to_delete</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>

      <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">MATCH_VERSION_FILE_NAME</span>) <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">MATCH_VERSION_FILE_NAME</span>) <span class="ruby-operator">!=</span> <span class="ruby-constant">Fastlane</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>.<span class="ruby-identifier">to_s</span>
        <span class="ruby-identifier">files_to_commit</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">MATCH_VERSION_FILE_NAME</span>
        <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-constant">MATCH_VERSION_FILE_NAME</span>, <span class="ruby-constant">Fastlane</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>) <span class="ruby-comment"># stored unencrypted</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">template</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-node">&quot;#{Match::ROOT}/lib/assets/READMETemplate.md&quot;</span>)
      <span class="ruby-identifier">readme_path</span> = <span class="ruby-string">&quot;README.md&quot;</span>
      <span class="ruby-keyword">if</span> (<span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">readme_path</span>) <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">readme_path</span>) <span class="ruby-operator">!=</span> <span class="ruby-identifier">template</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-keyword">self</span>.<span class="ruby-identifier">skip_docs</span>
        <span class="ruby-identifier">files_to_commit</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">readme_path</span>
        <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">readme_path</span>, <span class="ruby-identifier">template</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">upload_files</span>(<span class="ruby-identifier">files_to_upload</span><span class="ruby-operator">:</span> <span class="ruby-identifier">files_to_commit</span>, <span class="ruby-identifier">custom_message</span><span class="ruby-operator">:</span> <span class="ruby-identifier">custom_message</span>)
      <span class="ruby-constant">UI</span>.<span class="ruby-identifier">message</span>(<span class="ruby-node">&quot;Finished uploading files to #{self.human_readable_description}&quot;</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">files_to_delete</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">delete_files</span>(<span class="ruby-identifier">files_to_delete</span><span class="ruby-operator">:</span> <span class="ruby-identifier">files_to_delete</span>, <span class="ruby-identifier">custom_message</span><span class="ruby-operator">:</span> <span class="ruby-identifier">custom_message</span>)
      <span class="ruby-constant">UI</span>.<span class="ruby-identifier">message</span>(<span class="ruby-node">&quot;Finished deleting files from #{self.human_readable_description}&quot;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">UI</span>.<span class="ruby-identifier">user_error!</span>(<span class="ruby-string">&quot;Neither `files_to_commit` nor `files_to_delete` were provided to the `save_changes!` method call&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-skip_docs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">skip_docs</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="skip_docs-source">
            <pre><span class="ruby-comment"># File match/lib/match/storage/interface.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">skip_docs</span>
  <span class="ruby-identifier">not_implemented</span>(<span class="ruby-identifier">__method__</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-upload_files" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">upload_files</span><span
            class="method-args">(files_to_upload: [], custom_message: nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="upload_files-source">
            <pre><span class="ruby-comment"># File match/lib/match/storage/interface.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">upload_files</span>(<span class="ruby-identifier">files_to_upload</span><span class="ruby-operator">:</span> [], <span class="ruby-identifier">custom_message</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">not_implemented</span>(<span class="ruby-identifier">__method__</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

